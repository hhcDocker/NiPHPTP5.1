<div class="row m-top-md">
    <div class="col-lg-3 col-sm-6">
        <div class="statistic-box bg-danger m-bottom-md">
            <div class="statistic-title"></div>

            <div class="statistic-value"></div>

            <div class="m-top-md"></div>

            <div class="statistic-icon-background">
                <i class="ion-person-add"></i>
            </div>
        </div>
    </div>

    <div class="col-lg-3 col-sm-6">
        <div class="statistic-box bg-info m-bottom-md">
            <div class="statistic-title"></div>

            <div class="statistic-value"></div>

            <div class="m-top-md"></div>

            <div class="statistic-icon-background">
                <i class="ion-eye"></i>
            </div>
        </div>
    </div>

    <div class="col-lg-3 col-sm-6">
        <div class="statistic-box bg-purple m-bottom-md">
            <div class="statistic-title"></div>

            <div class="statistic-value"></div>

            <div class="m-top-md"></div>

            <div class="statistic-icon-background">
                <i class="ion-stats-bars"></i>
            </div>
        </div>
    </div>

    <!-- <div class="col-lg-3 col-sm-6">
        <div class="statistic-box bg-success m-bottom-md">
            <div class="statistic-title">
                Today Earnings
            </div>

            <div class="statistic-value">
                $124.45k
            </div>

            <div class="m-top-md">7% Higher than last week</div>

            <div class="statistic-icon-background">
                <i class="ion-ios7-cart-outline"></i>
            </div>
        </div>
    </div> -->
</div>

<div class="row">
    <div class="col-lg-6">
        <div class="smart-widget">
            <div class="smart-widget-header">
                {:lang('sys info')}
                <span class="smart-widget-option">
                    <span class="refresh-icon-animated">
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                    </span>
                    <a href="#" class="widget-collapse-option" data-toggle="collapse">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </span>
            </div>
            <div class="smart-widget-inner table-responsive">
                <table class="table table-striped no-margin">
                    <tbody></tbody>
                </table>
            </div><!-- ./smart-widget-inner -->
        </div><!-- ./smart-widget -->
    </div><!-- ./col -->
    <div class="col-lg-6">
        <div class="smart-widget">
            <div class="smart-widget-header">
                {:lang('visit')}
                <span class="smart-widget-option">
                    <span class="refresh-icon-animated">
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                    </span>

                    <a href="#" class="widget-collapse-option" data-toggle="collapse">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </span>
            </div>
            <div class="smart-widget-inner">
                <div class="smart-widget-body no-padding">
                    <div class="padding-md">
                        <div id="placeholder" style="height:250px;"></div>
                    </div>

                    <!-- <div class="bg-grey">
                        <div class="row">
                            <div class="col-xs-4 text-center">
                                <h3 class="m-top-sm">3491</h3>
                                <small class="m-bottom-sm block">Total Sales</small>
                            </div>
                            <div class="col-xs-4 text-center">
                                <h3 class="m-top-sm">721</h3>
                                <small class="m-bottom-sm block">New Orders</small>
                            </div>
                            <div class="col-xs-4 text-center">
                                <h3 class="m-top-sm">$8103</h3>
                                <small class="m-bottom-sm block">Total Earnings</small>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
var json_data  = {$json_data_info|raw};
var sys_info   = json_data["sys_info"],
    sys_make   = json_data["sys_make"],
    visit_info = json_data["visit_info"];

jQuery(function(){
    var h = "";
    for (var i = 0; i < sys_info.length; i++) {
        h = h + "<tr><th>"+sys_info[i]["name"]+"</th><td>"+sys_info[i]["value"]+"</td></tr>";
    }
    jQuery(".no-margin tbody").append(h);

    jQuery(".bg-danger .statistic-title").text(sys_make["member"]["name"]);
    jQuery(".bg-danger .statistic-value").text(sys_make["member"]["value"][0]["name"]+":"+sys_make["member"]["value"][0]["value"]);
    jQuery(".bg-danger .m-top-md").text(sys_make["member"]["value"][1]["name"]+":"+sys_make["member"]["value"][1]["value"]);

    jQuery(".bg-info .statistic-title").text(sys_make["feed_msg"]["name"]);
    jQuery(".bg-info .statistic-value").text(sys_make["feed_msg"]["value"][0]["name"]+":"+sys_make["feed_msg"]["value"][0]["value"]);
    jQuery(".bg-info .m-top-md").text(sys_make["feed_msg"]["value"][1]["name"]+":"+sys_make["feed_msg"]["value"][1]["value"]);

    jQuery(".bg-purple .statistic-title").text(sys_make["ads_link"]["name"]);
    jQuery(".bg-purple .statistic-value").text(sys_make["ads_link"]["value"][0]["name"]+":"+sys_make["ads_link"]["value"][0]["value"]);
    jQuery(".bg-purple .m-top-md").text(sys_make["ads_link"]["value"][1]["name"]+":"+sys_make["ads_link"]["value"][1]["value"]);



    //Flot Chart (Total Sales)
    var d1 = [];
    for (var i = 0; i <= 10; i += 1) {
        //d1.push([i, parseInt(Math.random() * 30)]);
        d1 = [visit_info["value"]];
    }

    function plotWithOptions() {
        jQuery.plot("#placeholder", [d1], {
            series: {
                lines: {
                    show: true,
                    fill: true,
                    fillColor: '#eee',
                    steps: false,

                },
                points: {
                    show: true,
                    fill: false
                }
            },

            grid: {
                color: '#fff',
                hoverable: true,
                autoHighlight: true,
            },
            colors: [ '#bbb'],
        });
    }

    jQuery("<div id='tooltip'></div>").css({
        position: "absolute",
        display: "none",
        border: "1px solid #222",
        padding: "4px",
        color: "#fff",
        "border-radius": "4px",
        "background-color": "rgb(0,0,0)",
        opacity: 0.90
    }).appendTo("body");

    jQuery("#placeholder").bind("plothover", function (event, pos, item) {

        var str = "(" + pos.x.toFixed(2) + ", " + pos.y.toFixed(2) + ")";
        jQuery("#hoverdata").text(str);

        if (item) {
            var x = item.datapoint[0],
                y = item.datapoint[1];

                jQuery("#tooltip").html("Total Sales : " + y)
                .css({top: item.pageY+5, left: item.pageX+5})
                .fadeIn(200);
        } else {
            $("#tooltip").hide();
        }
    });

    plotWithOptions();
});
</script>
