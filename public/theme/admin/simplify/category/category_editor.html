<div class="smart-widget">
    <div class="smart-widget-header">
        __SUB_TITLE__
    </div>
    <div class="smart-widget-inner">
        <div class="smart-widget-body">
            <form action="" method="post" class="form-horizontal">
                <div class="form-group">
                    <label for="name" class="col-lg-2 control-label">{:lang('name')}</label>
                    <div class="col-lg-10">
                        <input type="text" name="name" id="name" class="form-control" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="aliases" class="col-lg-2 control-label">{:lang('aliases')}</label>
                    <div class="col-lg-10">
                        <input type="text" name="aliases" id="aliases" class="form-control" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="parent" class="col-lg-2 control-label">{:lang('parent')}</label>
                    <div class="col-lg-10">
                        <input type="hidden" name="pid" id="pid" value="">
                        <input type="text" name="parent" id="parent" class="form-control" disabled value="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="type_id" class="col-lg-2 control-label">{:lang('type')}</label>
                    <div class="col-lg-10">
                        <select name="type_id" id="type_id" class="form-control">
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="model_id" class="col-lg-2 control-label">{:lang('model')}</label>
                    <div class="col-lg-10">
                        <select name="model_id" id="model_id" class="form-control">
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="url" class="col-lg-2 control-label">{:lang('url')}</label>
                    <div class="col-lg-10">
                        <input type="text" name="url" id="url" class="form-control" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="is_show" class="col-lg-2 control-label">{:lang('isshow')}</label>
                    <div class="col-lg-10">
                        <div class="radio inline-block">
                            <div class="custom-radio m-right-xs is_show1">
                                <input type="radio" id="is_show1" name="is_show" value="1">
                                <label for="is_show1"></label>
                            </div>
                            <div class="inline-block vertical-top">
                                {:lang('show')}
                            </div>
                        </div>
                        <div class="radio inline-block">
                            <div class="custom-radio m-right-xs is_show0">
                                <input type="radio" id="is_show0" name="is_show" value="0">
                                <label for="is_show0"></label>
                            </div>
                            <div class="inline-block vertical-top">
                                {:lang('hide')}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="is_channel" class="col-lg-2 control-label">{:lang('ischannel')}</label>
                    <div class="col-lg-10">
                        <div class="radio inline-block">
                            <div class="custom-radio m-right-xs is_channel1">
                                <input type="radio" id="is_channel1" name="is_channel" value="1" >
                                <label for="is_channel1"></label>
                            </div>
                            <div class="inline-block vertical-top">
                                {:lang('yes')}
                            </div>
                        </div>
                        <div class="radio inline-block">
                            <div class="custom-radio m-right-xs is_channel0">
                                <input type="radio" id="is_channel0" name="is_channel" value="0" >
                                <label for="is_channel0"></label>
                            </div>
                            <div class="inline-block vertical-top">
                                {:lang('no')}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="image" class="col-lg-2 control-label">{:lang('image')}</label>
                    <div class="col-lg-10">
                        <input type="text" name="image" id="image" class="form-control" value="">
                        <button type="button" class="btn btn-success marginTB-xs" id="upload" data-type="category" data-id="image" data-model="">{:lang('button upload')}</button>
                        <img src="" id="img-image" width="100">
                    </div>
                </div>
                <div class="form-group">
                    <label for="seo_title" class="col-lg-2 control-label">{:lang('title')}</label>
                    <div class="col-lg-10">
                        <input type="text" name="seo_title" id="seo_title" class="form-control" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="seo_keywords" class="col-lg-2 control-label">{:lang('keywords')}</label>
                    <div class="col-lg-10">
                        <input type="text" name="seo_keywords" id="seo_keywords" class="form-control" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="seo_description" class="col-lg-2 control-label">{:lang('description')}</label>
                    <div class="col-lg-10">
                        <textarea name="seo_description" id="seo_description" class="form-control"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label for="access_id" class="col-lg-2 control-label">{:lang('access')}</label>
                    <div class="col-lg-10">
                        <select name="access_id" id="access_id" class="form-control">
                            <option value="0">{:lang('select access')}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-offset-2 col-lg-10">
                        {:token()}
                        <input type="hidden" name="id" id="category_id" value="">
                        <input type="submit" value="{:lang('button save')}" class="btn btn-info marginTB-xs">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
var json_data = {$json_data|raw};
jQuery(function(){
    jQuery("#category_id").val(json_data["data"]["id"]);
    jQuery("#name").val(json_data["data"]["name"]);
    jQuery("#aliases").val(json_data["data"]["aliases"]);
    jQuery("#pid").val(json_data["data"]["pid"]);
    if (json_data["data"]["parent_name"]) {
        jQuery("#parent").val(json_data["data"]["parent_name"]);
    } else {
        jQuery("#parent").val("{:lang('empty')}");
    }

    jQuery("#url").val(json_data["data"]["url"]);
    jQuery("#image").val(json_data["data"]["image"]);
    jQuery("#img-image").attr("src", json_data["data"]["image"]);
    if (json_data["data"]["image"]) {
        jQuery("#img-image").show();
    }
    jQuery("#seo_title").val(json_data["data"]["seo_title"]);
    jQuery("#seo_keywords").val(json_data["data"]["seo_keywords"]);
    jQuery("#seo_description").val(json_data["data"]["seo_description"]);

    jQuery("#is_show"+json_data["data"]["is_show"]).attr("checked", "checked");
    jQuery(".is_show"+json_data["data"]["is_show"]).addClass("checked");

    jQuery("#is_channel"+json_data["data"]["is_channel"]).attr("checked", "checked");
    jQuery(".is_channel"+json_data["data"]["is_channel"]).addClass("checked");

    var type_option = "";
    for (key in json_data["type"]) {
        type_option += "<option value='"+json_data["type"][key]["id"]+"'";
        if (json_data["data"]["type_id"] == json_data["type"][key]["id"]) {
            type_option += " selected ";
        }
        type_option += ">"+json_data["type"][key]["name"]+"</option>";
    }
    jQuery("#type_id").html(type_option);

    var models_option = "";
    for (key in json_data["models"]) {
        models_option += "<option value='"+json_data["models"][key]["id"]+"'";
        if (json_data["data"]["models_id"] == json_data["models"][key]["id"]) {
            models_option += " selected ";
        }
        models_option += ">"+json_data["models"][key]["model_name"]+"</option>";
    }
    jQuery("#model_id").html(models_option);

    var level_option = "";
    for (key in json_data["level"]) {
        level_option += "<option value='"+json_data["level"][key]["id"]+"'";
        if (json_data["data"]["access_id"] == json_data["level"][key]["id"]) {
            level_option += " selected ";
        }
        level_option += ">"+json_data["level"][key]["name"]+"</option>";
    }
    jQuery("#access_id").append(level_option);
});

</script>
