<aside class="sidebar-menu fixed">
    <div class="sidebar-inner scrollable-sidebar">
        <div class="main-menu">
            <ul class="accordion">
                <li class="menu-header">
                    Main Menu
                </li>
                <li class="bg-palette1 active">
                    <a href="{:url('/')}" target="_blank">
                        <span class="menu-content block">
                            <span class="menu-icon"><i class="block fa fa-home fa-lg"></i></span>
                            <span class="text m-left-sm">{:lang('website home')}</span>
                        </span>
                        <span class="menu-content-hover block">
                            {:lang('website home')}
                        </span>
                    </a>
                </li>

            </ul>
        </div>
        <div class="sidebar-fix-bottom clearfix">
            <div class="user-dropdown dropup pull-left">
                <a href="#" class="dropdwon-toggle font-18" data-toggle="dropdown"><i class="ion-person-add"></i>
                </a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="{:url('content/cache', array('method' => 'remove', 'type' => 'cache'))}">
                            {:lang('delete cache')}
                        </a>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="{:url('user/admin', array('method' => 'editor', 'id' => $__ADMIN_DATA__['id']))}">
                            {:lang('update admin')}
                        </a>
                    </li>
                </ul>
            </div>
            <a href="{:url('account/logout')}" class="pull-right font-18"><i class="ion-log-out"></i></a>
        </div>
    </div>
</aside>
<script type="text/javascript">
var auth_menu = {$auth_menu|raw};
var sidebar = "";
for (key in auth_menu) {
    var opens = "";
    if (key == request_param["controller"]) {
        opens = "open";
    }
    sidebar = sidebar + "<li class='openable bg-palette4 "+opens+"'><a href='#'><span class='menu-content block'><span class='menu-icon'><i class='block fa fa-"+auth_menu[key]["icon"]+" fa-lg'></i></span><span class='text m-left-sm'>"+auth_menu[key]["name"]+"</span><span class='submenu-icon'></span></span><span class='menu-content-hover block'>"+auth_menu[key]["name"]+"</span></a><ul class='submenu bg-palette4'>";

    for (k in auth_menu[key]["menu"]) {
        var active = "";
        if (auth_menu[key]["menu"][k]["action"] == request_param["action"]) {
            active = "class='active'";
        }
        sidebar = sidebar + "<li "+active+"><a href='"+auth_menu[key]["menu"][k]["url"]+"'><span class='submenu-label'>"+auth_menu[key]["menu"][k]["lang"]+"</span></a></li>";
    }

    sidebar = sidebar + "</ul></li>";
}
jQuery(".main-menu ul").append(sidebar);
</script>
